<app-header></app-header>
<div class="container-fluid">
  <div class="row main-content" *ngIf="header.isloggedin">
    <div class="error" *ngFor="let error of resultError">{{error}}</div>
    <div class="col-md-10">
      <accordion>
        <accordion-group #group [isOpen]="status.isFirstOpen" [isDisabled]="status.isFirstDisabled" *ngIf="communities">
          <div accordion-heading class="clearfix">
            <i *ngIf="group2.isOpen" class="fa fa-caret-down"></i>
            <i *ngIf="!group2.isOpen" class="fa fa-caret-right"></i>
            List of Communitiess
          </div>
          <ul class="community-list">
            <li *ngFor="let comm of communities">
              <span class="community-name">{{ comm?.name }}</span>
              <span class="btn-card-header"><a href="#" routerLink="/community-details/{{ comm?.id}}"><i class="fa fa-pencil icon-pad" aria-hidden="true"></i> Details</a></span>
            </li>
          </ul>
        </accordion-group>
        <accordion-group #group2>
			    <div accordion-heading class="clearfix">
            <i *ngIf="group2.isOpen" class="fa fa-caret-down"></i>
            <i *ngIf="!group2.isOpen" class="fa fa-caret-right"></i>
						<span class="accordion-heading">Create a Community</span>
          </div>

          <form novalidate #addForm="ngForm">

            <span class="form-group">
              <input class="form-control community" name="communityName" [(ngModel)]="newCommunity.name"
                minlength="2" placeholder="Community Name" required/>
            </span>

            <span class="form-group">
              <input class="form-control community" name="communityIdentifier" [(ngModel)]="newCommunity.abbreviation"
              minlength="2" placeholder="Identifier" required/>
            </span>
            <hr>
            <label>Assign User Approver</label>
            <div class="form-group clearfix">
              <select class="form-control" name="communityApprover" [(ngModel)]="newapprover" required>
                <option *ngFor="let user of users"
                  [value]="user.id">
                  {{user.firstName}} {{user.lastName}}
                </option>
              </select>
            </div>

            <!--
  			     <div class="col-12 badge badge-pill badge-default">
  						<span>OR: Create New User as User Approver</span>
  					</div>
              <span class="form-group">
                <input class="form-control firstname" type="text" required="" placeholder="*First Name" value="" name="name">
              </span>
              <span class="form-group">
                <input class="form-control middle" type="text" required="" placeholder="MI" value="" name="">
              </span>
              <span class="form-group">
                <input class="form-control lastname" type="text" required="" placeholder="*Last Name" value="" name="">
              </span>
              <div class="form-group clearfix">
                <input class="form-control" type="text" required="" placeholder="Title/Rank" value="" name="">
                <input class="form-control" type="text" required="" placeholder="Duty/Job Title" value="" name="">
                <input class="form-control" type="text" required="" placeholder="*Email" value="" name="">
                <input class="form-control" type="text" required="" placeholder="*Phone" value="" name="">
                <input class="form-control" type="text" required="" placeholder="Street, City, State, Zip" value="" name="">
                <input class="form-control" type="text" required="" placeholder="*Organization Name" value="" name="">
                <input class="form-control" type="text" required="" placeholder="*Community" value="" name="">
              </div>
              <div class="form-group clearfix">
                <select class="form-control form-field">
                    <option selected>Select Branch</option>
                    <option value="army">Army</option>
                    <option value="airforce">Air Force</option>
                    <option value="navy">Navy</option>
                    <option value="marines">Marine Corps</option>
                    <option value="national">National Guard</option>
                    <option value="coast">Coast Guard</option>
                  </select>

                <span class="form-group">
                  <input class="form-control sponsor" type="text" required="" placeholder="*Sponsor Name" value="" name="">
                </span>
                <span class="form-group">
                  <input class="form-control sponsor"  type="text" required="" placeholder="*Sponsor Phone" value="" name="">
                </span>
                <span class="form-group">
                  <input class="form-control sponsor" type="text" required="" placeholder="*Sponsor Email" value="" name="">
                </span>
              </div>
            -->
              <button class="btn btn-default btn-sm" value="Cancel">Cancel</button>
              <button class="btn btn-primary btn-sm" (click)="addCommunity()">
                <i class="fa fa-plus-square icon-pad" aria-hidden="true"></i>
                Add Community
              </button>
          </form>
        </accordion-group>
      </accordion>
    </div>
    <div class="col-md-2">
    </div>
  </div>
</div>
