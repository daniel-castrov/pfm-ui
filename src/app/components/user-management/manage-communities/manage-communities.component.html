<j-header></j-header>
<div class="container-fluid">
  <div class="row main-content" *ngIf="header.isAuthenticated">
    <div class="error" *ngFor="let error of resultError">{{error}}</div>
    <div class="col-md-10">
      <fieldset>
        <legend>List of Communities</legend>
        <ul class="community-list">
          <li *ngFor="let comm of communities">
            <span class="community-name">{{ comm?.name }}</span>
            <span class="btn-card-header"><a href="#" routerLink="/community-details/{{ comm?.id}}"><i class="fa fa-pencil icon-pad" aria-hidden="true"></i> Details</a></span>
          </li>
        </ul>
      </fieldset>
      <fieldset>
        <legend>Create a Community</legend>
        <form novalidate #addForm="ngForm">

          <span class="form-group">
            <input class="form-control community" name="communityName" [(ngModel)]="newCommunity.name"
              minlength="2" placeholder="Community Name" required/>
          </span>

          <span class="form-group">
            <input class="form-control community" name="communityIdentifier" [(ngModel)]="newCommunity.abbreviation"
            minlength="2" placeholder="Identifier" required/>
          </span>
          <hr>
          <label>Assign User Approver</label>
          <div class="form-group clearfix">
            <select class="form-control" name="communityApprover" [(ngModel)]="newapprover" required>
              <option *ngFor="let user of users"
                [value]="user.id">
                {{user.firstName}} {{user.lastName}}
              </option>
            </select>
          </div>
            <button class="btn btn-default btn" value="Cancel">Cancel</button>
            <button class="btn btn-primary btn" (click)="addCommunity()">
              <i class="fa fa-plus-square icon-pad" aria-hidden="true"></i>
              Add Community
            </button>
        </form>
      </fieldset>
    </div>
    <div class="col-md-2">
    </div>
  </div>
</div>
