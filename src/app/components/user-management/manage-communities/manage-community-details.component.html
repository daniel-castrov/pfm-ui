<j-header></j-header>
<div class="container-fluid">
  <div class="row main-content" *ngIf="header.isAuthenticated">
    <div class="error" *ngFor="let error of resultError">{{error}}</div>
    <div class="col-12">
      <div class="h5">{{ community?.name }}</div>
      <div class="row">
        <div class="col-5">

          <fieldset>
            <legend>Organizations</legend>
            <p>Organizations within this Community</p>
            <ul class="community-list">
              <li *ngFor="let organization of organizations">
                {{ organization.abbreviation }}
              </li>
            </ul>
          </fieldset>
          
          <fieldset>
            <legend>Create an Organization</legend>
              <span class="form-group">
                <input class="form-control organization" name="orgName" [(ngModel)]="newOrg.name"
                  minlength="2" placeholder="Orgnization Name" required/>
              </span>
              <span class="form-group">
                <input class="form-control organization" name="orgIdentifier" [(ngModel)]="newOrg.abbreviation"
                minlength="2" placeholder="Identifier" required/>
              </span>
              <button class="btn btn-primary" (click)="addOrganization()">Submit</button>
          </fieldset>

        </div>
        <div class="col-5">

          <fieldset>
            <legend>List of Approvers</legend>
            <ul class="community-list">
              <li *ngFor="let user of approvers">
                {{ user?.firstName }} {{ user?.lastName }}
              </li>
            </ul>
          </fieldset>
          
          <fieldset>
            <legend>Add Approvers</legend>
            <div class="form-group clearfix">
              <select class="form-control-sm dropdown-width mr-sm-2" name="communityApprover" [(ngModel)]="addedapprover" required>
                <option *ngFor="let user of users"
                  [value]="user.id">
                  {{user.firstName}} {{user.lastName}}
                </option>
              </select>
              <button class="btn btn-primary" (click)="addApprover()">Add Approver</button>
            </div>
          </fieldset>
        
        </div>
      </div>
    </div>
  </div>
</div>
