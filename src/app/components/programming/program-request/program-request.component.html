<j-header></j-header>
<div class="container-fluid">
  <div class="row main-content" *ngIf="programRequestPageMode.initialized">
    <div class="col-12">
      <div class="row">
        <id-and-name #idAndName class="col-8" [pr]="pr"></id-and-name>
        <div class="col-4">
          <div class="pull-right mb-2" aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item active" aria-current="page">
                  <span>
                    <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                  </span>
                  <span>
                    <a href="#" routerLink="/select-program-request">back to Summary Program Requests</a>
                  </span>
                </li>
              </ol>
          </div>
          <div class="pull-right program-controls">
            <span>
              <button class="btn btn-primary">Validate</button>
            </span>
            <span>
              <button class="btn btn-secondary" (click)="save('SAVED')" [disabled]="idAndName.invalid || pr.state=='SUBMITTED'">Save</button>
            </span>
            <span>
              <button class="btn btn-success" (click)="save('SUBMITTED')" [disabled]="idAndName.invalid || pr.state=='SUBMITTED'">Submit</button>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="row main-content">
      <div class="col-12">
        <tabset class="program-tab-style" role="tablist">
          <tab heading="Program" id="tab1" role="tablist">
            <program-tab [pr]="pr" role="tabpanel"></program-tab>
          </tab>
          <tab heading="Funds" id="tab2">
            <funds-tab [pr]="pr" role="tabpanel"></funds-tab>
          </tab>
          <tab heading="Variants" id="tab3">
            <variants-tab [current]="pr" [editable]="true" role="tabpanel"></variants-tab>
          </tab>
          <tab heading="Justification" id="tab4">
            <justification-tab [pr]="pr" role="tabpanel"></justification-tab>
          </tab>
        </tabset>
      </div>
    </div>
  </div>
</div>
