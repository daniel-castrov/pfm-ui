<app-header></app-header>
<div class="row main-content">
  <div class="col-12">
    <div class="row mb-4">
      <div class="col-lg-7 col-md-12">
        <span class="h5">Summary of Program Requests for {{pom?.fy|FY:'POM'}}</span>
      </div>
      <div class="col-lg-5 col-md-12">
        <span class="pull-right">
          <button class="btn btn-primary" (click)=submit() >For Demo Only - Submit All</button>
        </span>
        <span class="pull-right">
          <button class="btn btn-primary" (click)=submit() [disabled]="thereAreOutstandingPRs">Submit All</button>
        </span>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-5 col-md-12">
        <div class="row">
          <div class="col-12">
            <new-program-request [containerId]="pom?.workspaceId"></new-program-request>
          </div>
        </div>
        <div class="row" *ngIf="workspaces?.length>1">
          <div class="col-12">
            <select [(ngModel)]='currworkspace'>
              <option *ngFor="let wksp of workspaces" [ngValue]='wksp'>{{wksp.name}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-lg-7 col-md-12">
        <div class="bar-chart pull-right">
          <google-chart #comchart
          [data]='chartdata'
          (chartSelect)='select($event)'
          ></google-chart>
          <select [(ngModel)]="selectedFilter" (ngModelChange)="onFilterChange($event)" class="selectpicker">
            <option [value]="i" *ngFor="let i of filters" class="optionpicker">{{i}}</option>
          </select>
        </div>
        <!--j-pom [pomPrograms]="pomPrograms" [pbPrograms]="pbPrograms" [pom]="pom"></j-pom-->
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <program-requests [pomPrograms]="pomPrograms"
                               [pbPrograms]="pbPrograms"
                               [pomFy]="pom?.fy"
                               [reviewOnly]="false"
                               (deleted)="onDeletePr()">
        </program-requests>
      </div>
    </div>
  </div>
</div>
